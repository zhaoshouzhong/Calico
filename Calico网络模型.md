# 概述
calico 针对不同的应用场景，有不同的网络模型，需要分为两大类：
- 1：二层网络模型：适合于二层组网和互通的情况，endpoint位于通过二层交换机互通，不需要通过额外路由。
- 2：三层网络模型：如果需要跨越多个子网，则需要三层交换机进行路由交换，实现跨子网通信。
下面分别介绍这两种网络模型：

# 二层网络模型：
https://docs.projectcalico.org/v3.7/networking/design/l2-interconnect-fabric

该模式介绍：
1： blue 、green 、 orange、red 代表4个网络平面，可以用4个不同vlan进行区分
2： 每个平面有独立的RR，RR之间不需要组成对等集群
3： 每个主机和主机上的endpoint构成一个自治域，这样同一主机的endpoint之间的通信，不需要经过TOR交换机。当然，只能访问同一vlan的。
4： 每个主机至少加入4个中的一个RR，也可以4个平面全部加入
5： RR 可以启用在物理机交换机，也可以是单独的软件系统

优点：
1： 有4个网络平面，网络的可靠性提高了。一个网络平面不通时，可以切换到另外一个网络平面
2： 直接二层网络通信，通信效率高
缺点：
1： 考虑到网络风暴影响，一个vlan网络的主机数量不能搞太大。
2： 仅适合于二层组网，不能满足复杂的组网要求

# 三层网络模型
三层网络模型，有多种方案可供选择
## The AS Per Rack model（每个机架一个自治域）
### 机架AS域彼此Peer

### 机架AS域和核心交换机彼此Peer


